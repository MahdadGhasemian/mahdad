__NUXT_JSONP__("/blog/2024-07-22-longhorn-restore-guide", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){return {data:[{article:{slug:"2024-07-22-longhorn-restore-guide",description:s,title:t,tags:"Kubernetes, K3S, Longhorn, Restore, Backup, mahdad, mahdad ghasemian",date:"2024-07-22T00:00:00.000Z",image:"\u002Fblog\u002Flonghorn.png",author:"Mahdad Ghasemian",draft:false,toc:[{id:u,depth:2,text:v},{id:w,depth:3,text:x}],body:{type:"root",children:[{type:b,tag:"h1",props:{id:"restore-backup-with-longhorn"},children:[{type:b,tag:k,props:{href:"#restore-backup-with-longhorn",ariaHidden:n,tabIndex:o},children:[{type:b,tag:f,props:{className:[p,q]},children:[]}]},{type:a,value:t}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:s}]}]},{type:a,value:c},{type:b,tag:"h2",props:{id:u},children:[{type:b,tag:k,props:{href:"#restore-backup",ariaHidden:n,tabIndex:o},children:[{type:b,tag:f,props:{className:[p,q]},children:[]}]},{type:a,value:v}]},{type:a,value:c},{type:b,tag:"h3",props:{id:w},children:[{type:b,tag:k,props:{href:"#example-restoring-postgresql-data",ariaHidden:n,tabIndex:o},children:[{type:b,tag:f,props:{className:[p,q]},children:[]}]},{type:a,value:x}]},{type:a,value:c},{type:b,tag:y,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Scale Down the PostgreSQL StatefulSet:"}]}]},{type:a,value:c},{type:b,tag:z,props:{className:[A]},children:[{type:b,tag:B,props:{className:[C,D]},children:[{type:b,tag:h,props:{},children:[{type:a,value:E},{type:b,tag:f,props:{className:[i,l,m]},children:[{type:a,value:F}]},{type:b,tag:f,props:{className:[i,G]},children:[{type:a,value:H}]},{type:b,tag:f,props:{className:[i,I]},children:[{type:a,value:"0"}]},{type:a,value:J},{type:b,tag:f,props:{className:[i,l,m]},children:[{type:a,value:K}]},{type:a,value:L}]}]}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Wait for the Volume to Detach:"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Monitor the volume status until it is detached."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Note the Current Volume Name:"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"For example: "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:"."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Delete the Old Volume via Longhorn GUI:"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Navigate to the Longhorn GUI and delete the specified volume."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Restore the Backup to a New Volume:"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Use the Longhorn GUI to restore the backup to a new volume."}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Assign the new volume the same name noted in step 3 ("},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:")."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Wait for the Restore Process to Complete:"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Monitor the Longhorn GUI until the restore process finishes."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Create Persistent Volume (PV) \u002F Persistent Volume Claim (PVC):"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Navigate to the lonhorn GUI \u003E Volume \u003E at the right side of volume named "},{type:b,tag:h,props:{},children:[{type:a,value:r}]},{type:a,value:" open operation button \u003E select "},{type:b,tag:h,props:{},children:[{type:a,value:"Create PV\u002FPVC"}]}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:M},{type:b,tag:h,props:{},children:[{type:a,value:"Create PVC"}]},{type:a,value:N}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:M},{type:b,tag:h,props:{},children:[{type:a,value:"Use Previous PVC"}]},{type:a,value:N}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:O,props:{alt:"longhorn-volume-create-pv-pvc-1",src:"\u002Fblog\u002Flonghorn-volume-create-pv-pvc-1.png"},children:[]}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:O,props:{alt:"longhorn-create-pv-pvc-2",src:"\u002Fblog\u002Flonghorn-create-pv-pvc-2.png"},children:[]}]},{type:a,value:c},{type:b,tag:y,props:{start:8},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Wait for the PV\u002FPVC to be Available:"}]}]},{type:a,value:c},{type:b,tag:j,props:{},children:[{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:"Monitor the status until the PV\u002FPVC is available and ready for use."}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:d,props:{},children:[{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:g,props:{},children:[{type:a,value:"Scale Up the PostgreSQL StatefulSet:"}]}]},{type:a,value:c},{type:b,tag:z,props:{className:[A]},children:[{type:b,tag:B,props:{className:[C,D]},children:[{type:b,tag:h,props:{},children:[{type:a,value:E},{type:b,tag:f,props:{className:[i,l,m]},children:[{type:a,value:F}]},{type:b,tag:f,props:{className:[i,G]},children:[{type:a,value:H}]},{type:b,tag:f,props:{className:[i,I]},children:[{type:a,value:"1"}]},{type:a,value:J},{type:b,tag:f,props:{className:[i,l,m]},children:[{type:a,value:K}]},{type:a,value:L}]}]}]},{type:a,value:c}]},{type:a,value:c}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:a,value:"By following these steps, you can successfully restore your data using Longhorn."}]},{type:a,value:c},{type:b,tag:e,props:{},children:[{type:b,tag:k,props:{href:"https:\u002F\u002Fgist.github.com\u002FMahdadGhasemian\u002F0a0a88158d4c07f8082352aad488804e",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"Github Gist"}]}]}]},dir:"\u002Farticles",path:"\u002Farticles\u002F2024-07-22-longhorn-restore-guide",extension:".md",createdAt:P,updatedAt:P},_img:{"/_ipx/_/author.jpg":"\u002F_nuxt\u002Fimage\u002Fd17f97.jpg"}}],fetch:{},mutations:void 0}}("text","element","\n","li","p","span","strong","code","token","ul","a","parameter","variable","true",-1,"icon","icon-link","pvc-1be4dafb-399f-40d4-ac87-205eb56c2f44","Instructions for restoring data using Longhorn backup and restore features.","Restore Backup with Longhorn","restore-backup","Restore Backup","example-restoring-postgresql-data","Example: Restoring PostgreSQL Data","ol","div","nuxt-content-highlight","pre","language-bash","line-numbers","kubectl scale statefulset.apps\u002Fpostgresql ","--replicas","operator","=","number"," ","-n"," postgresql\n","Ensure the "," option is checked.","img","2025-05-18T07:51:22.627Z")));